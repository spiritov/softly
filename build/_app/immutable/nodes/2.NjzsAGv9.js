import"../chunks/DsnmJJEf.js";import{o as ge}from"../chunks/DkaaOxfl.js";import{aC as me,I as A,o as ie,e as ve,az as ue,T,O as o,aJ as pe,aa as P,ab as y,ae as h,ag as f,af as m,ac as R,a9 as k,ad as B,x as de,R as _e,ai as W,b0 as he,a8 as re,ah as V,b1 as be,a7 as ke,u as le}from"../chunks/BvyEtBnD.js";import{s as Y,t as E,b as ae,f as xe,e as J,i as L,a as _,d as w,k as ne,c as U,r as X,g as we}from"../chunks/zDkcfiI6.js";import{i as ye}from"../chunks/CU5W0Okf.js";import{l as fe,d as q,s as M,e as Se}from"../chunks/Cp0nVd2g.js";import{i as j}from"../chunks/CT2Gfhmu.js";import{p as D}from"../chunks/DavEHsCV.js";function se(t,e,r=e){var n=me(),u=new WeakSet;fe(t,"input",s=>{var i=s?t.defaultValue:t.value;if(i=ee(t)?te(i):i,r(i),A!==null&&u.add(A),n&&i!==(i=e())){var d=t.selectionStart,g=t.selectionEnd;t.value=i??"",g!==null&&(t.selectionStart=d,t.selectionEnd=Math.min(g,t.value.length))}}),(ie&&t.defaultValue!==t.value||ve(e)==null&&t.value)&&(r(ee(t)?te(t.value):t.value),A!==null&&u.add(A)),ue(()=>{var s=e();t===document.activeElement&&u.has(A)||ee(t)&&s===te(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function Ie(t,e,r=e){fe(t,"change",n=>{var u=n?t.defaultChecked:t.checked;r(u)}),(ie&&t.defaultChecked!==t.checked||ve(e)==null)&&r(t.checked),ue(()=>{var n=e();t.checked=!!n})}function ee(t){var e=t.type;return e==="number"||e==="range"}function te(t){return t===""?null:+t}function Oe(t){var e=pe(0);return function(){return arguments.length===1?(T(e,o(e)+1),arguments[0]):(o(e),t())}}var Ce=y('<img class="ml-1 flex h-6 self-center" alt=""/>'),Re=y('<a class="flex h-6 self-center" target="_blank"><img class="ml-1 h-6" src="https://i.imgur.com/sf1ckIB.png" alt=""/></a>'),We=y("<button> <!> <!></button>");function z(t,e){P(e,!0);const r=(c,x=de)=>{var F=Ce();R(()=>ae(F,"src",`https://countryflagsapi.netlify.app/flag/${e.name??""}.svg`)),k(c,F)},n=c=>{var x=Re();R(()=>ae(x,"href",`https://steamcommunity.com/profiles/[U:1:${s()??""}]`)),k(c,x)};let u=D(e,"withFlag",3,!1),s=D(e,"withSteamID",3,""),i=D(e,"isFont",3,!1),d=D(e,"isBestOf",3,!1),g=D(e,"selected",3,!1),p=D(e,"onclick",3,null),l=D(e,"oncontextmenu",3,null);var a=We();a.__click=function(...c){p()?.apply(this,c)},a.__contextmenu=function(...c){l()?.apply(this,c)};var v=h(a),S=f(v);{var I=c=>{n(c)};j(S,c=>{s()&&c(I)})}var C=f(S,2);{var b=c=>{r(c,()=>e.name)};j(C,c=>{u()&&c(b)})}m(a),R(c=>{Y(a,1,`${c??""}
    ${d()?"px-3":"px-2"}
    ${g()?"brightness-100":"brightness-50 hover:brightness-100"} bg-lavender text-paleblack hover:bg-lavender border-darklavender flex w-fit rounded-md border-b-2 transition-all hover:cursor-pointer`),M(v,`${e.name??""} `)},[()=>i()?`font-${e.name.toLowerCase()}`:""]),E(1,a,()=>xe),k(t,a),B()}q(["click","contextmenu"]);var G=Oe(()=>_),Pe=y('<div class="relative flex w-96 justify-center gap-1"><span class="absolute left-0">best of</span> <!></div>');function Be(t,e){P(e,!1);function r(s){G(G().bestOf=s*2+1),G(G().maxScore=s+1)}ye();var n=Pe(),u=f(h(n),2);J(u,0,()=>({length:5}),L,(s,i,d)=>{{let g=_e(()=>(G().bestOf-1)/2===d);z(s,{name:d*2+1,isBestOf:!0,get selected(){return o(g)},onclick:()=>r(d)})}}),m(n),k(t,n),B()}function De(t,e){w.set(e.category,[])}var Fe=y('<button class=" hover:text-salmon absolute right-0 brightness-50 transition-all hover:cursor-pointer hover:underline hover:brightness-100">remove all</button>');function Te(t,e){P(e,!0);var r=Fe();r.__click=[De,e],k(t,r),B()}q(["click"]);const Me=t=>{var e=Ve();k(t,e)};var Ve=he('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg>'),je=y('<a class="hover:text-lavender absolute left-0 flex gap-1" href="https://countryflagsapi.netlify.app/country-list" target="_blank"><span> </span> <span class="self-center"><!></span></a>'),Ne=y('<span class="absolute left-0 flex"> </span>'),ze=y('<div class="relative flex w-96 justify-center"><!> <input type="text"/> <!></div>');function Ee(t,e){let r=D(e,"onkeypress",3,null),n=W(()=>e.category==="flag");var u=ze(),s=h(u);{var i=l=>{var a=je(),v=h(a),S=h(v);m(v);var I=f(v,2),C=h(I);Me(C),m(I),m(a),R(()=>M(S,`add ${e.category??""}`)),k(l,a)},d=l=>{var a=Ne(),v=h(a);m(a),R(()=>M(v,`add ${e.category??""}`)),k(l,a)};j(s,l=>{o(n)?l(i):l(d,!1)})}var g=f(s,2),p=f(g,2);Te(p,{get category(){return e.category}}),m(u),R(()=>ae(g,"placeholder",o(n)?"alpha-2 code":"")),Se("keypress",g,function(...l){r()?.apply(this,l)}),k(t,u)}var Je=(t,e)=>T(e,!o(e)),Le=y('<button class="text-lavender flex w-96 cursor-pointer self-center text-left"> </button>'),Ue=y('<div class="flex w-96 flex-col gap-0.5 self-center"></div>'),qe=y("<!> <!>",1);function Ke(t,e){P(e,!0);let r=V(!0),n=W(()=>o(r)?"˅":">");function u(p,l){const a=p.target.value;if(p.key==="Enter"&&a.length>0){const v=w.get(l);if(l==="name")if(_.useWebSocket&&_.useWebSocketToken!==""){const S=/^\d+$/,I=prompt(`ID portion of ${a}'s steamID3
retrievable from https://steamid.uk/
ex [U:1:123456789] -> 123456789`);S.test(I)&&w.set("name",v.concat([{name:a,steamid:I}]))}else w.set("name",v.concat([{name:a}]));else l==="flag"&&a.length===2?w.set("flag",v.concat([a.toUpperCase()])):w.set(l,v.concat([a]));p.target.value=""}}var s=qe(),i=re(s);ne(i,()=>o(r),p=>{var l=Le();l.__click=[Je,r];var a=h(l);m(l),R(()=>M(a,`${o(n)??""} buttons`)),k(p,l)});var d=f(i,2);{var g=p=>{var l=Ue();J(l,21,()=>w,L,(a,v)=>{var S=W(()=>be(o(v),2));let I=()=>o(S)[0];Ee(a,{get category(){return I()},onkeypress:C=>u(C,I())})}),m(l),E(3,l,()=>U,()=>({duration:250})),k(p,l)};j(d,p=>{o(r)&&p(g)})}k(t,s),B()}q(["click"]);var Ae=y('<div class="relative"><span class="absolute left-18">PR</span> <input class="w-32" type="text"/></div>');function Ge(t,e){P(e,!0);let r=D(e,"value",15);var n=Ae(),u=f(h(n),2);X(u),m(n),se(u,r),E(3,n,()=>U,()=>({duration:250})),k(t,n),B()}var He=y('<div class="button brightness-100 svelte-1um5dd4"> </div>'),Qe=y('<div class="flex w-fit overflow-hidden rounded-md"><button class="button text-xl brightness-50 svelte-1um5dd4">+</button> <!> <button class="button text-xl brightness-50 svelte-1um5dd4">-</button></div>');function Xe(t,e){P(e,!0);let r=W(()=>e.side+"Score");function n(g){_[o(r)]=g<=0?0:g>_.maxScore?_.maxScore:g}var u=Qe(),s=h(u);s.__click=()=>n(_[o(r)]+1);var i=f(s,2);ne(i,()=>_[o(r)],g=>{var p=He(),l=h(p,!0);m(p),R(()=>M(l,_[o(r)])),k(g,p)});var d=f(i,2);d.__click=()=>n(_[o(r)]-1),m(u),k(t,u),B()}q(["click"]);var Ye=y('<div><span> </span> <div class="flex flex-wrap gap-1 px-2"></div> <span>flag</span> <div class="flex flex-wrap gap-1 px-2"></div> <!> <div class="flex w-full justify-center"><!></div></div>');function oe(t,e){P(e,!0);let r=W(()=>e.side==="left"),n=V(-1),u=V(-1);function s(b,c){const x=e.side+b;b==="Name"?(_[x]=w.get(b.toLowerCase())[c],T(n,c,!0)):(_[x]=w.get(b.toLowerCase())[c],T(u,c,!0))}function i(b,c,x){const F=w.get(c);b.preventDefault(),w.set(c,F.toSpliced(x,1))}var d=Ye(),g=h(d),p=h(g);m(g);var l=f(g,2);J(l,21,()=>w.get("name"),L,(b,c,x)=>{var F=ke(),O=re(F);{var K=N=>{{let Z=W(()=>x===o(n));z(N,{get withSteamID(){return o(c).steamid},get name(){return o(c).name},get selected(){return o(Z)},onclick:()=>s("Name",x),oncontextmenu:$=>i($,"name",x)})}},H=N=>{{let Z=W(()=>x===o(n));z(N,{get name(){return o(c).name},get selected(){return o(Z)},onclick:()=>s("Name",x),oncontextmenu:$=>i($,"name",x)})}};j(O,N=>{o(c).steamid?N(K):N(H,!1)})}k(b,F)}),m(l);var a=f(l,4);J(a,21,()=>w.get("flag"),L,(b,c,x)=>{{let F=W(()=>x===o(u));z(b,{get name(){return o(c)},withFlag:!0,get selected(){return o(F)},onclick:()=>s("Flag",x),oncontextmenu:O=>i(O,"flag",x)})}}),m(a);var v=f(a,2);{var S=b=>{Ge(b,{get value(){return _[e.side+"PR"]},set value(c){_[e.side+"PR"]=c}})};j(v,b=>{_.usePR&&b(S)})}var I=f(v,2),C=h(I);Xe(C,{get side(){return e.side}}),m(I),m(d),R(()=>{Y(d,1,`flex w-full flex-col gap-2 ${o(r)?"border-palegrey border-r-2":""}`),M(p,`${e.side??""} name`)}),k(t,d),B()}var Ze=y('<div class="flex flex-wrap"><input type="text" placeholder="token"/> <!> <div class="w-full"></div> <span class="text-palewhite/75 rounded-md bg-black px-1"> </span></div>'),$e=y('<div class="flex flex-row flex-wrap gap-1"><input class="checked:bg-lavender border-palewhite inset-ring-paleblack size-6 cursor-pointer appearance-none self-center rounded-sm border-2 inset-ring-2 transition-colors select-none" type="checkbox"/> <span> </span> <!></div>');function Q(t,e){P(e,!0);let r=D(e,"WebSocket",3,!1),n=D(e,"checked",15),u=V("");var s=$e(),i=h(s);X(i);var d=f(i,2),g=h(d,!0);m(d);var p=f(d,2);{var l=a=>{var v=Ze(),S=h(v);X(S);var I=f(S,2);{let c=W(()=>_.useWebSocketToken!=="");z(I,{name:"set",get selected(){return o(c)},onclick:()=>{_.useWebSocketToken=o(u)}})}var C=f(I,4),b=h(C);m(C),m(v),R(()=>M(b,`token: ${_.useWebSocketToken??""}`)),se(S,()=>o(u),c=>T(u,c)),E(3,v,()=>U,()=>({duration:250})),k(a,v)};j(p,a=>{r()&&_.useWebSocket&&a(l)})}m(s),R(()=>M(g,e.description)),Ie(i,n),E(3,s,()=>U,()=>({duration:250})),k(t,s),B()}var et=y('<div class="flex flex-col"><span class="w-full text-left">hue rotation</span> <div class="flex items-center gap-1"><div></div> <span class="w-10"> </span> <input class=" accent-lavender bg-grey h-2 w-64 cursor-pointer appearance-none rounded-full" type="range" min="0" max="360" step="10"/></div></div>');function tt(t,e){P(e,!0);let r=D(e,"value",15);var n=et(),u=f(h(n),2),s=h(u),i=f(s,2),d=h(i);m(i);var g=f(i,2);X(g),m(u),m(n),R(()=>{Y(s,1,`bg-overlay-orange hue-rotate-${r()??""} border-palewhite inset-ring-paleblack size-6 rounded-sm border-2 inset-ring-2 transition-colors select-none`),M(d,`${r()??""}°`)}),se(g,r),E(3,n,()=>U,()=>({duration:250})),k(t,n),B()}var at=(t,e)=>T(e,!o(e)),rt=y('<button class="text-lavender flex w-96 cursor-pointer self-center text-left"> </button>'),nt=y('<div class="flex w-96 flex-col gap-0.5 self-center"><span class="text-left">font</span> <div class="flex gap-1"></div> <!> <!> <!> <!> <!></div>'),st=y("<!> <!>",1);function lt(t,e){P(e,!0);const r=["UbuntuMono","Lexend","Montserrat"];let n=V(!0),u=W(()=>o(n)?"˅":">"),s=V(1);function i(a){T(s,a,!0),_.font=r[a]}var d=st(),g=re(d);ne(g,()=>o(n),a=>{var v=rt();v.__click=[at,n];var S=h(v);m(v),R(()=>M(S,`${o(u)??""} overlay`)),k(a,v)});var p=f(g,2);{var l=a=>{var v=nt(),S=f(h(v),2);J(S,21,()=>r,L,(O,K,H)=>{{let N=W(()=>H===o(s));z(O,{get name(){return o(K)},isFont:!0,get selected(){return o(N)},onclick:()=>i(H)})}}),m(S);var I=f(S,2);Q(I,{description:"use team colors",get checked(){return _.useTeamColors},set checked(O){_.useTeamColors=O}});var C=f(I,2);{var b=O=>{tt(O,{get value(){return _.hueRotate},set value(K){_.hueRotate=K}})};j(C,O=>{_.useTeamColors||O(b)})}var c=f(C,2);Q(c,{description:"use PRs",get checked(){return _.usePR},set checked(O){_.usePR=O}});var x=f(c,2);Q(x,{description:"use single POV",get checked(){return _.useSinglePOV},set checked(O){_.useSinglePOV=O}});var F=f(x,2);Q(F,{description:"use WebSocket timer (requires token)",WebSocket:!0,get checked(){return _.useWebSocket},set checked(O){_.useWebSocket=O}}),m(v),E(3,v,()=>U,()=>({duration:250})),k(a,v)};j(p,a=>{o(n)&&a(l)})}k(t,d),B()}q(["click"]);var ot=(t,e)=>e(),ct=y('<div class="flex w-full flex-col gap-1 px-2"><div class="flex w-full gap-2"><span class="text-left">stage</span> <button class="hover:text-salmon brightness-50 transition-all hover:cursor-pointer hover:underline hover:brightness-100">(reset to default)</button></div> <div class="flex flex-wrap gap-1"></div></div>');function it(t,e){P(e,!0);let r=V(-1);function n(l){T(r,l,!0),_.stage=w.get("stage")[l]}function u(l,a){const v=w.get("stage");l.preventDefault(),w.set("stage",v.toSpliced(a,1))}function s(){w.set("stage",we)}var i=ct(),d=h(i),g=f(h(d),2);g.__click=[ot,s],m(d);var p=f(d,2);J(p,21,()=>w.get("stage"),L,(l,a,v)=>{{let S=W(()=>v===o(r));z(l,{get name(){return o(a)},get selected(){return o(S)},onclick:()=>n(v),oncontextmenu:I=>u(I,v)})}}),m(p),m(i),k(t,i),B()}q(["click"]);var vt=y('<div class="w-full px-2 text-left"><span>map</span> <div class="flex flex-wrap gap-1"></div></div>');function ut(t,e){P(e,!0);let r=V(-1);function n(d){T(r,d,!0),_.map=w.get("map")[d]}function u(d,g){const p=w.get("map");d.preventDefault(),w.set("map",p.toSpliced(g,1))}var s=vt(),i=f(h(s),2);J(i,21,()=>w.get("map"),L,(d,g,p)=>{{let l=W(()=>p===o(r));z(d,{get name(){return o(g)},get selected(){return o(l)},onclick:()=>n(p),oncontextmenu:a=>u(a,p)})}}),m(i),m(s),k(t,s),B()}const ce=(t,e=de)=>{var r=dt();R(()=>Y(r,1,`border-palegrey my-2 self-center border-1 border-solid ${e()??""}`)),k(t,r)};var dt=y("<hr/>"),ft=y('<div class="flex size-full justify-center"><div class="bg-paleblack my-8 flex w-2xl flex-col items-center gap-2 rounded-md p-4 text-center text-lg"><span class="text-lavender mb-4">tourney overlay</span> <div class="flex flex-col"><!> <!> <!> <!></div> <!> <div class="flex w-full"><!> <!></div> <!> <!></div></div>');function wt(t,e){P(e,!0);let r=V(!1);ge(()=>{for(const[b,c]of w){const x=JSON.parse(localStorage.getItem(`saved_${b}s`));x&&w.set(b,x)}T(r,!0)}),le(()=>{if(o(r))for(const[b,c]of w)localStorage.setItem(`saved_${b}s`,JSON.stringify(c))}),le(()=>{for(const[b,c]of Object.entries(_))localStorage.setItem(b,JSON.stringify(c))});var n=ft(),u=h(n),s=f(h(u),2),i=h(s);Ke(i,{});var d=f(i,2);ce(d,()=>"w-96");var g=f(d,2);lt(g,{});var p=f(g,2);ce(p,()=>"w-96"),m(s);var l=f(s,2);Be(l,{});var a=f(l,2),v=h(a);oe(v,{side:"left"});var S=f(v,2);oe(S,{side:"right"}),m(a);var I=f(a,2);ut(I,{});var C=f(I,2);it(C,{}),m(u),m(n),k(t,n),B()}export{wt as component};
